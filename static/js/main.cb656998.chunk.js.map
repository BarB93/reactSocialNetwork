{"version":3,"sources":["accets/img/avatar.webp","Redux/dialogs-reducer.js","components/Music/Music.module.css","components/News/News.module.css","components/Aside/Aside.module.css","api/api.js","components/Aside/Navbar/Navbar.module.css","components/Users/User/User.module.css","reportWebVitals.js","components/Music/Music.jsx","components/News/News.jsx","components/Aside/Navbar/Navbar.jsx","components/Aside/Aside.jsx","utils/objects-helpers.js","Redux/users-reducer.js","components/Users/User/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","Redux/app-reducer.js","Redux/aside-reducer.js","Redux/redux-store.js","App.js","index.js","components/common/FormControls/FormControls.js","accets/img/preloader.svg","components/common/Preloader/Preloader.jsx","components/common/FormControls/FormControls.module.css","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","utils/validators/validators.js","Redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialStore","dialogs","id","name","avatar","messages","message","who","sendMessageTextActionCreator","newMessage","type","dialogsReducer","state","action","sendMessage","length","newMessageText","module","exports","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","subscribe","userId","post","unsubscribe","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","getAuth","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Music","props","className","s","music","News","news","Navbar","nav","item","to","activeClassName","active","Aside","aside","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","SUBSCRIBE","UNSUBSCRIBE","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","SUBSCRIBING_IN_PROGRESS","initialState","users","totalUsersCount","isFetching","subscribingProgress","userSubscribe","userUnsubscribe","setIsFetching","toggleSubscribingProgress","subscribeUnsubscribeFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","filter","User","user","left_block","src","photos","small","userFoto","disabled","some","button","onClick","user_info_wrapper","user_info","user_info_start","user_name","user_status","location","Paginator","totalItemsCount","onPageChanged","portionSize","pages","pagesCount","Math","ceil","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","endPortion","isEnough","i","push","buttons","cn","buttonPage","Users","pagination","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getSubscribingProgress","UsersContainer","p","requestUsers","this","Preloader","React","Component","compose","connect","page","totalCount","Header","header","alt","loginBlock","isAuth","account","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","text","formSummaryError","Login","formData","LoginContainer","stopSubmit","_error","SET_INITIALIZED","initialized","appReducer","frends","asideReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Suspense","fallback","path","render","component","AppContainer","withRouter","promise","Promise","all","SamuraiApp","ReactDOM","document","querySelector","FormControl","input","meta","touched","children","hasError","formControl","Textarea","child","restProps","validate","placeholder","preloader","min","value","undefined","maxLength","max","maxLength15","maxLength50","minLength2","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","UPDATE_USER_STATUS","DELETE_POST","posts","likes","newPostText","profile","addPost","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","postId"],"mappings":"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","file":"static/js/main.cb656998.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar.a49a4e62.webp\";","const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nlet initialStore = {\r\n    dialogs: [\r\n        {id: 1, name: 'Борис Б',avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png'},\r\n        {id: 2, name: 'Натали Б',avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png'},\r\n        {id: 3, name: 'Лариса',avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png'},\r\n        {id: 4, name: 'Андрей',avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png'},\r\n        {id: 5, name: 'Макс',avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Привет', who: 'my'},\r\n        {id: 2, message: 'Как ты', who: 'my'},\r\n        {id: 3, message: 'Йоу, норм', who: 'not_my'},\r\n        {id: 4, message: 'Здоров', who: 'not_my'},\r\n        {id: 5, message: 'хав ю', who: 'not_my'},\r\n        {id: 6, message: 'Пойдешь гулять', who: 'my'},\r\n        {id: 7, message: 'Привет2', who: 'not_my'},\r\n        {id: 8, message: 'Как ты2', who: 'my'},\r\n        {id: 9, message: 'Йоу, норм2', who: 'not_my'}\r\n    ],\r\n\r\n}\r\n\r\nconst dialogsReducer = (state = initialStore, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return sendMessage(action.newMessage)\r\n        default:\r\n            return state\r\n    }\r\n\r\n    function sendMessage(newMessage) {\r\n\r\n        const message = {\r\n            id: state.messages.length + 1,\r\n            message: newMessage,\r\n            who: 'my',\r\n        }\r\n\r\n        return {\r\n            ...state,\r\n            messages: [...state.messages,message],\r\n            newMessageText: ''\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport const sendMessageTextActionCreator = (newMessage) => ({\r\n    type:SEND_MESSAGE,\r\n    newMessage\r\n})\r\n\r\nexport default  dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__3iRfM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__3xTvE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__1Cpws\"};","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '7e8283fb-89d8-4c74-ad80-b7366c282673'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    subscribe(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unsubscribe(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`,{status})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`,{email, password, rememberMe})\r\n            .then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1nGC8\",\"item\":\"Navbar_item__1iEAF\",\"active\":\"Navbar_active__1yl_l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__spEbK\",\"left_block\":\"User_left_block__3uUEn\",\"avatar\":\"User_avatar__2adNV\",\"user_info_wrapper\":\"User_user_info_wrapper__2ZhRB\",\"user_info\":\"User_user_info__waQly\",\"user_info_start\":\"User_user_info_start__2ekqh\",\"user_name\":\"User_user_name__jjRkA\",\"button\":\"User_button__z1_qw\",\"location\":\"User_location__XYMqd\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import s from './Music.module.css'\r\n\r\nconst Music = function (props) {\r\n  return (\r\n    <div className={s.music}>\r\n      Music\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Music\r\n","import s from './News.module.css'\r\n\r\nconst News = function (props) {\r\n  return (\r\n    <div className={s.news}>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News\r\n","import s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <li className={s.item}><NavLink to=\"/profile\" activeClassName={s.active}>Профиль</NavLink></li>\r\n            <li className={s.item}><NavLink to=\"/dialogs\" activeClassName={s.active}>Сообщения</NavLink></li>\r\n            <li className={s.item}><NavLink to=\"/news\" activeClassName={s.active}>Новости</NavLink></li>\r\n            <li className={s.item}><NavLink to=\"/music\" activeClassName={s.active}>Музыка</NavLink></li>\r\n            <li className={s.item}><NavLink to=\"/users\" activeClassName={s.active}>Найти друзей</NavLink></li>\r\n            {/*<li className={s.item}><a href=\"#\">Настройки</a></li>*/}\r\n\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Navbar","import s from './Aside.module.css'\r\nimport Navbar from \"./Navbar/Navbar\";\r\n\r\nconst Aside = () => {\r\n\r\n    return (\r\n        <aside className={s.aside}>\r\n            <Navbar />\r\n        </aside>\r\n    )\r\n};\r\n\r\nexport default Aside","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n\r\n}\r\n\r\n\r\n/*\r\nfunction subscribeOrUnsubscribe(isSubscribe) {\r\n    return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n            if (u.id === action.userId) {\r\n                return {...u, followed: isSubscribe}\r\n            }\r\n            return u\r\n        })\r\n    }\r\n}*/\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objects-helpers\";\r\n\r\nconst SUBSCRIBE = 'SUBSCRIBE'\r\nconst UNSUBSCRIBE = 'UNSUBSCRIBE'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst SUBSCRIBING_IN_PROGRESS = 'SUBSCRIBING_IN_PROGRESS'\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    subscribingProgress: [],\r\n\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SUBSCRIBE:\r\n            return {...state, users: updateObjectInArray(state.users,action.userId, 'id',{followed:true})}\r\n        case UNSUBSCRIBE:\r\n            return {...state, users: updateObjectInArray(state.users,action.userId, 'id',{followed:false})}\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case SUBSCRIBING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                subscribingProgress: action.isFetching ? [...state.subscribingProgress, action.userId] : state.subscribingProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const userSubscribe = (userId) => {\r\n    return {\r\n        type: SUBSCRIBE,\r\n        userId\r\n    }\r\n}\r\nexport const userUnsubscribe = (userId) => {\r\n    return {\r\n        type: UNSUBSCRIBE,\r\n        userId\r\n    }\r\n}\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n}\r\nexport const setCurrentPage = (num) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage: num\r\n    }\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalUsersCount\r\n    }\r\n}\r\nexport const setIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\nexport const toggleSubscribingProgress = (isFetching, userId) => {\r\n    return {\r\n        type: SUBSCRIBING_IN_PROGRESS,\r\n        isFetching,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(setIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    const response = await usersAPI.getUsers(page, pageSize)\r\n\r\n    dispatch(setIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n\r\n}\r\n\r\nconst subscribeUnsubscribeFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleSubscribingProgress(true, userId))\r\n\r\n    const response = await apiMethod(userId)\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n\r\n    dispatch(toggleSubscribingProgress(false, userId))\r\n}\r\n\r\nexport const unsubscribe = (id) => async (dispatch) => {\r\n    await subscribeUnsubscribeFlow(dispatch,id,usersAPI.unsubscribe,userUnsubscribe)\r\n}\r\nexport const subscribe = (id) => async (dispatch) => {\r\n    await subscribeUnsubscribeFlow(dispatch,id,usersAPI.subscribe,userSubscribe)\r\n}\r\n\r\n\r\nexport default usersReducer","import React from \"react\";\r\nimport s from \"./User.module.css\"\r\nimport userFoto from \"../../../accets/img/avatar.webp\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst User = (props) => {\r\n\r\n    return (\r\n        <div className={s.user}>\r\n            <div className={s.left_block}>\r\n                <NavLink to={'/profile/' + props.user.id}>\r\n                    <img className={`global_avatar ${s.avatar}`}\r\n                         src={props.user.photos.small ? props.user.photos.small : userFoto}/>\r\n                </NavLink>\r\n                <div>\r\n                    {\r\n                        props.user.followed\r\n                            ? <button disabled={props.subscribingProgress.some(id => id === props.user.id)}\r\n                                      className={s.button}\r\n                                      onClick={() => {\r\n                                          props.unsubscribe(props.id)\r\n                                      }}>Отписаться</button>\r\n\r\n                            : <button disabled={props.subscribingProgress.some(id => id === props.user.id)}\r\n                                      className={s.button}\r\n                                      onClick={() => {\r\n                                          props.subscribe(props.user.id)\r\n                                      }}>Подписаться</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className={s.user_info_wrapper}>\r\n                <div className={s.user_info}>\r\n                    <div className={s.user_info_start}>\r\n                        <div className={s.user_name}>{`${props.user.name}`}</div>\r\n                        <div className={s.user_status}>{props.user.status}</div>\r\n                    </div>\r\n                    <div className={s.location}>\r\n                        <div>{'props.user.location.country'},</div>\r\n                        <div>{'props.user.location.city'}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import React, {useState} from 'react'\r\nimport s from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    const pages = []\r\n\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n    const endPortion = Math.ceil(pagesCount/portionSize)\r\n    const isEnough = totalItemsCount > pageSize\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return (<div className={s.buttons}>\r\n        {portionNumber > 1 && <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>назад</button>}\r\n        {pages\r\n            .filter(item => item >= leftPortionPageNumber && item <= rightPortionPageNumber && isEnough).map(item => {\r\n                return <button onClick={() => onPageChanged(item)}\r\n                               key={item}\r\n                               className={cn({[s.active]: currentPage == item}, s.buttonPage)}>{item}</button>\r\n            })\r\n        }\r\n        {portionNumber < endPortion && <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>вперед</button>}\r\n\r\n        {portionNumber < endPortion && <button onClick={() => {\r\n            setPortionNumber(endPortion)\r\n        }}>в конец</button>}\r\n\r\n    </div>)\r\n\r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport User from \"./User/User\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nlet Users = (props) => {\r\n\r\n    let users = props.users.map((u) => <User key={u.id}\r\n                                             subscribe={props.subscribe}\r\n                                             unsubscribe={props.unsubscribe}\r\n                                             user={u}\r\n                                             subscribingProgress={props.subscribingProgress}\r\n    />)\r\n\r\n    const pagination = <Paginator totalItemsCount={props.totalUsersCount}\r\n                                  pageSize={props.pageSize}\r\n                                  currentPage={props.currentPage}\r\n                                  onPageChanged={props.onPageChanged}\r\n                                  portionSize={5}/>\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {pagination}\r\n            <div>\r\n                <div>{users}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users\r\n","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, users => users.filter(u => true))\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getSubscribingProgress = (state) => {\r\n    return state.usersPage.subscribingProgress\r\n}","import React from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {requestUsers, subscribe, unsubscribe} from '../../Redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getSubscribingProgress,\r\n    getTotalUsersCount, getUsers,\r\n\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (p) => {\r\n        const {pageSize} = this.props\r\n        this.props.requestUsers(p, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users currentPage={this.props.currentPage}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   users={this.props.users}\r\n                   subscribingProgress={this.props.subscribingProgress}\r\n                   onPageChanged={this.onPageChanged}\r\n                   unsubscribe={this.props.unsubscribe}\r\n                   subscribe={this.props.subscribe}\r\n                   toggleSubscribingProgress={this.props.toggleSubscribingProgress}\r\n\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        subscribingProgress: getSubscribingProgress(state)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {requestUsers, subscribe, unsubscribe\r\n    }),\r\n)(UsersContainer)","import s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <img alt='img' src=\"https://icons-for-free.com/iconfiles/png/512/internet+media+network+social+vk+web+icon-1320194042400488353.png\" />\r\n            <div className={s.loginBlock}>\r\n                { props.isAuth ? <div className={s.account}>Вы вошли как: {props.login}<button onClick={props.logout}>Выйти</button></div> :<NavLink to={'/login'}>Войти</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'network/auth/SET_USER_DATA'\r\nconst TOGGLE_IS_FETCHING = 'network/auth/TOGGLE_IS_FETCHING'\r\n\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: true\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        payload: {userId, email, login, isAuth}\r\n    }\r\n}\r\nexport const setIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n        dispatch(setIsFetching(true))\r\n        let response = await authAPI.getAuth()\r\n\r\n        if (response.resultCode === 0) {\r\n            dispatch(setIsFetching(false))\r\n            let {id, login, email} = response.data\r\n            dispatch(setAuthUserData(id, login, email, true))\r\n        }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n        const response = await authAPI.login(email, password, rememberMe)\r\n\r\n        if (response.resultCode === 0) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            let message = response.messages.length > 0 ? response.messages[0] : 'Some error'\r\n            dispatch(stopSubmit(\"login\", {_error: message}))\r\n        }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n        const response = await authAPI.logout()\r\n\r\n        if (response.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n}\r\n\r\nexport default authReducer","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        login: state.auth.login,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer)","import React from 'react'\r\nimport s from '../common/FormControls/FormControls.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormControls/FormControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('email','text',Input,[required],'Email')}\r\n            {createField('password','password',Input,[required],'Пароль')}\r\n            {createField('rememberMe','checkbox',Input,null, null, {text:'запомнить меня'})}\r\n            {error && <div className={s.formSummaryError}>{error}</div>}\r\n            <div><button>войти</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = ({login}) => {\r\n    const onSubmit = (formData) => {\r\n            const email = formData.email\r\n            const password = formData.password\r\n            const rememberMe = formData.rememberMe ? true:false\r\n\r\n            login(email, password, rememberMe)\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Авторизация</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport Login from \"./Login\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nclass LoginContainer extends React.Component {\r\n\r\n    render() {\r\n        return this.props.isAuth? <Redirect to={'/profile'}/> : <Login login={this.props.login}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth:state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{login})(LoginContainer)","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nlet initialStore =  {\r\n    initialized:false\r\n}\r\n\r\nconst appReducer = (state = initialStore, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {...state, initialized: true}\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const initializedSuccess = () => ({type:SET_INITIALIZED})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n       Promise.all([promise]).then(() => {\r\n            dispatch(initializedSuccess())\r\n        })\r\n\r\n}\r\n\r\nexport default appReducer","let initialStore =  {\r\n    frends: [\r\n        {id: 1, avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png', name: 'Борис'},\r\n        {id: 4, avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png', name: 'Андрей'},\r\n        {id: 3, avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png', name: 'Лариса'},\r\n        {id: 2, avatar: 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png', name: 'Наталья'},\r\n    ],\r\n\r\n}\r\n\r\nconst asideReducer = (state = initialStore, action) => {\r\n\r\n\r\n    return state\r\n}\r\n\r\nexport default asideReducer","import {applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport asideReducer from './aside-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from \"./app-reducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    aside: asideReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n\r\n\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store","import React, {lazy} from \"react\";\r\nimport './App.css';\r\nimport Music from \"./components/Music/Music.jsx\";\r\nimport News from \"./components/News/News\";\r\nimport Aside from \"./components/Aside/Aside\";\r\nimport {Route, withRouter} from 'react-router-dom'\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport store from \"./Redux/redux-store\";\r\n\r\nconst DialogsContainer = lazy(()=>import(\"./components/Dialogs/DialogsContainer\"))\r\nconst ProfileContainer = lazy(()=>import(\"./components/Profile/ProfileContainer\"))\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) return <Preloader/>\r\n        return (\r\n            <div className=\"app-container\">\r\n                <HeaderContainer/>\r\n                <Aside/>\r\n                <div className=\"app-content\">\r\n                    <React.Suspense fallback={<Preloader/>}>\r\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                        <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                    </React.Suspense>\r\n                    <Route path='/login' render={() => <LoginContainer/>}/>\r\n                    <Route path='/music' component={Music}/>\r\n                    <Route path='/news' component={News}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({initialized: state.app.initialized})\r\n\r\nconst AppContainer = compose(withRouter,\r\n    connect(mapStateToProps, {initializeApp})\r\n)(App)\r\n\r\nconst SamuraiApp = (props) => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </BrowserRouter>)\r\n}\r\n\r\n\r\nexport default SamuraiApp","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiApp from \"./App\";\r\n\r\nReactDOM.render(<SamuraiApp/>, document.querySelector('#root'))\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import React from 'react'\r\nimport s from './FormControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta:{touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <span className={s.formControl + \" \" + (hasError && s.error)}>\r\n            {children}\r\n            {hasError && <span>{error}</span>}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...props.input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...props.input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (name, type, component, validate, placeholder, props = {}) => <div><Field type={type}\r\n                                                                                         name={name}\r\n                                                                                         placeholder={placeholder}\r\n                                                                                         component={component}\r\n                                                                                         validate={validate} {...props}/> {props.text?props.text:''}</div>\r\n","export default __webpack_public_path__ + \"static/media/preloader.e811695f.svg\";","import preloader from \"../../../accets/img/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return <img src={preloader}/>\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__5piyX\",\"error\":\"FormControls_error__lqtPW\",\"formSummaryError\":\"FormControls_formSummaryError__1cWec\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"Paginator_buttons__iGlIX\",\"button\":\"Paginator_button__2VcOw\",\"wrapper\":\"Paginator_wrapper__15ery\",\"buttonPage\":\"Paginator_buttonPage__8zMdw\",\"active\":\"Paginator_active__1RUak\",\"show\":\"Paginator_show__1yTBW\",\"get_users\":\"Paginator_get_users__2-RW4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2DnKc\",\"loginBlock\":\"Header_loginBlock__1kQGv\",\"account\":\"Header_account__BH2_n\"};","export const required = value => {\r\n    let result = value ? undefined : \"Обязательное поле\"\r\n    return result\r\n}\r\n\r\nconst maxLength = max => value => {\r\n    return value && value.length <= max ? undefined : `Максимальная длина ${max} символов`\r\n}\r\nexport const maxLength15 = maxLength(15)\r\nexport const maxLength50 = maxLength(50)\r\n\r\n\r\nconst minLength = min => value => {\r\n    return value && value.length >= min ? undefined : `Минимальная длина ${min} символов`\r\n}\r\nexport const minLength2 = minLength(2)\r\n\r\n\r\n\r\n","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_USER_STATUS = 'SET_USER_STATUS'\r\nconst UPDATE_USER_STATUS = 'UPDATE_USER_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\n\r\nlet initialStore = {\r\n    posts: [\r\n        {id: 1, message: 'Привет, как дела?', likes: 6,},\r\n        {id: 2, message: 'учу реакт', likes: 23},\r\n        {id: 3, message: 'вообще сил много', likes: 17},\r\n    ],\r\n    newPostText: '',\r\n    profile: null,\r\n    status: ''\r\n\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialStore, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return addPost(action.text)\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case SET_USER_STATUS:\r\n            return {...state, status: action.status}\r\n        case UPDATE_USER_STATUS:\r\n            return {...state, status: action.status}\r\n        case DELETE_POST:\r\n            return {...state, posts: state.posts.filter(item => item.id !== action.postId)}\r\n        default:\r\n            return state\r\n    }\r\n\r\n    function addPost(text) {\r\n\r\n        const post = {\r\n            id: state.posts.length + 1,\r\n            message: text,\r\n            likes: 0,\r\n        }\r\n\r\n        return {\r\n            ...state,\r\n            posts: [...state.posts, post],\r\n            newPostText: ''\r\n        }\r\n    }\r\n\r\n    function updateNewPostText(newText) {\r\n        return {\r\n            ...state,\r\n            newPostText: newText\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport const addPost = (text) => ({\r\n    type: ADD_POST,\r\n    text\r\n})\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n\r\n})\r\nexport const setUserStatus = (status) => ({\r\n    type: SET_USER_STATUS,\r\n    status\r\n\r\n})\r\nexport const deletePost = (postId) => ({\r\n    type: DELETE_POST,\r\n    postId\r\n\r\n})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response))\r\n}\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setUserStatus(response))\r\n}\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}
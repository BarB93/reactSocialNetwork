{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/hoc/WithAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","Dialog","props","avatar","className","s","dialog","to","id","activeClassName","active","src","alt","name","Message","classMy","state","who","my","not_my","message","AddMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","textarea","component","Textarea","placeholder","cols","rows","validate","required","maxLength15","Dialogs","dialogsElements","dialogs","map","messageElements","messages","dialog_items","values","sendMessage","newMessageBody","mapStateToPropsForRedirect","isAuth","auth","compose","connect","messagesPage","dispatch","newMessage","sendMessageTextActionCreator","Component","RedirectComponent","this","React"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,SAAW,0BAA0B,SAAW,4B,oBCAlJD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,yB,oBCA3DD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,GAAK,oBAAoB,OAAS,0B,+GCiBxEC,EAfA,SAAUC,GAErB,IAAMC,EAASD,EAAMC,QAAU,oEAE/B,OACI,qBAAKC,UAAWC,IAAEC,OAAlB,SAEI,eAAC,IAAD,CAASC,GAAE,mBAAcL,EAAMM,IAAMC,gBAAiBJ,IAAEK,OAAxD,UACI,qBAAKN,UAAS,wBAAmBC,IAAEF,QAAUQ,IAAKR,EAAQS,IAAI,WAC7DV,EAAMW,W,kBCFRC,EARC,SAAUZ,GAEtB,IAAIa,EAA8B,OAApBb,EAAMc,MAAMC,IAAcZ,IAAEa,GAAIb,IAAEc,OAChD,OACI,qBAAKf,UAAS,UAAKC,IAAEe,QAAP,YAAkBL,GAAhC,SAA4Cb,EAAMc,MAAMI,W,iCCW1DC,EAAsBC,YAAU,CAACC,KAAK,wBAAhBD,EATL,SAACpB,GACpB,OACI,uBAAMsB,SAAUtB,EAAMuB,aAAtB,UACI,8BAAK,cAACC,EAAA,EAAD,CAAOtB,UAAWC,IAAEsB,SAAUd,KAAK,iBAAiBe,UAAWC,IAAUC,YAAY,oGAAoBC,KAAK,KAAKC,KAAK,IAAIC,SAAU,CAACC,IAASC,SACrJ,8BAAK,oGA8BFC,EAvBC,SAAUlC,GACtB,IAAImC,EAAkBnC,EAAMc,MAAMsB,QAAQC,KAAI,SAAAjC,GAAM,OAAI,cAAC,EAAD,CAAQO,KAAMP,EAAOO,KAAMV,OAAQG,EAAOH,OAAwBK,GAAIF,EAAOE,IAAtBF,EAAOE,OAClHgC,EAAkBtC,EAAMc,MAAMyB,SAASF,KAAI,SAAAnB,GAAO,OAAI,cAAC,EAAD,CAA0BJ,MAAOI,GAAnBA,EAAQZ,OAOhF,OACI,sBAAKJ,UAAWC,IAAEiC,QAAlB,UACI,qBAAKlC,UAAWC,IAAEqC,aAAlB,SACKL,IAEL,sBAAKjC,UAAWC,IAAEoC,SAAlB,UACKD,EACD,cAACnB,EAAD,CAAqBG,SAXX,SAACmB,GACnBzC,EAAM0C,YAAYD,EAAOE,0B,gECrB7BC,EAA6B,SAAC9B,GAAD,MAAY,CACrC+B,OAAQ/B,EAAMgC,KAAKD,S,OCgBZE,sBACXC,aAfoB,SAAClC,GACrB,MAAO,CACHA,MAAOA,EAAMmC,iBAIK,SAACC,GACvB,MAAO,CACHR,YAAa,SAACS,GACVD,EAASE,YAA6BD,UDRlB,SAACE,GAAe,IACvCC,EADsC,4JAEvC,WACI,OAAKC,KAAKvD,MAAM6C,OACT,cAACQ,EAAD,eAAeE,KAAKvD,QADI,cAAC,IAAD,CAAUK,GAAI,eAHV,GACZmD,IAAMH,WASrC,OAFoCL,YAAQJ,EAARI,CAAoCM,KCK7DP,CAGbb","file":"static/js/4.bb427814.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2qlG4\",\"dialog_items\":\"Dialogs_dialog_items__3xqON\",\"messages\":\"Dialogs_messages__2OtRm\",\"textarea\":\"Dialogs_textarea__37DqM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__1loMr\",\"active\":\"Dialog_active__1wFTE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__W9BPu\",\"my\":\"Message_my__1ObWt\",\"not_my\":\"Message_not_my__2wqW-\"};","import s from './Dialog.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Dialog = function (props) {\r\n\r\n    const avatar = props.avatar || 'https://cdn.iconscout.com/icon/free/png-256/avatar-380-456332.png'\r\n\r\n    return (\r\n        <div className={s.dialog}>\r\n\r\n            <NavLink to={`/dialogs/${props.id}`} activeClassName={s.active}>\r\n                <img className={`global_avatar ${s.avatar}`} src={avatar} alt=\"Avatar\"/>\r\n                {props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialog","import s from './Message.module.css'\r\n\r\nconst Message = function (props) {\r\n\r\n    let classMy = props.state.who === 'my'? s.my: s.not_my;\r\n    return (\r\n        <div className={`${s.message} ${classMy}`}>{props.state.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message","import React from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormControls/FormControls\";\r\nimport {maxLength15, required} from \"../../utils/validators/validators\";\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div><Field className={s.textarea} name='newMessageBody' component={Textarea} placeholder='Введите сообщение' cols=\"30\" rows=\"5\" validate={[required,maxLength15]}/></div>\r\n            <div><button>Отправить</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageReduxForm = reduxForm({form:'dialogAddMessageForm'})(AddMessageForm)\r\n\r\nconst Dialogs = function (props) {\r\n    let dialogsElements = props.state.dialogs.map(dialog => <Dialog name={dialog.name} avatar={dialog.avatar} key={dialog.id} id={dialog.id} />)\r\n    let messageElements = props.state.messages.map(message => <Message key={message.id} state={message}/>)\r\n\r\n\r\n    const addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody)\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialog_items}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messageElements}\r\n                <AddMessageReduxForm onSubmit={addNewMessage}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n   class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","import Dialogs from \"./Dialogs\";\r\nimport {sendMessageTextActionCreator} from \"../../Redux/dialogs-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport React from \"react\";\r\nimport {WithAuthRedirect} from \"../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state.messagesPage,\r\n    }\r\n}\r\n\r\nconst mapDispatchToPops = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessage) => {\r\n            dispatch(sendMessageTextActionCreator(newMessage))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToPops),\r\n    WithAuthRedirect\r\n)(Dialogs)\r\n"],"sourceRoot":""}